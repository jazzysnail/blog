<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>not defined和undefined和Null到底谁是异教徒？ · leon's blog</title><meta name="description" content="not defined和undefined和Null到底谁是异教徒？ - leon"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/print.css"><link rel="search" type="application/opensearchdescription+xml" href="http://jazzysnail.github.io/atom.xml" title="leon's blog"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body id="bge"><script src="/js/bge/particles.min.js"></script><script src="/js/bge/run.js"></script><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/jazzysnail" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a target="_self" class="nav-list-link">WORKSHOP</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">not defined和undefined和Null到底谁是异教徒？</h1><div class="post-info">Aug 8, 2016</div><div class="tagcloud"><span class="before">tags:</span><span class="tags"><a href="/tags/javascript/" style="font-size: 10px;">javascript</a></span></div><div class="post-content"><p>又一个需求完结了，最近好“闲”！总结一个好玩的东西，那就是<code>not defined</code> 和 <code>undefined</code> 以及<code>Null</code>这三兄弟。这三兄弟简直了，一个不小心就要出问题。</p>
<p>别看这三兄弟不仅长的像而且意思也真是TM的“像”，可是他们之间还有很大的区别的。<br><a id="more"></a></p>
<div class="tip"><br>    下面代码建议<code>f12</code>在控制台运行一下<br></div>

<h2 id="undefined"><a href="#undefined" class="headerlink" title="undefined"></a>undefined</h2><blockquote>
<p><code>undefined</code>类型只有一个值，即特殊的<code>undefined</code>。在使用var声明变量但未对其加以初始化时，这个变量的值就是<code>undefined</code>。</p>
</blockquote>
<p>熟悉么？没错就 <strong>js高程</strong> 的原话。讲道理读书还是重要，有些时候遇到问题快速解决可以google或是寻找技术博客什么的，实践很重要理论做支撑，需求完结后回到理论深究一下，才能真正的提高，所谓知其然知其所以然~又TMD扯远了。</p>
<p>上面这段什么意思呢？就是说这个变量不是没有（未定义）而是没有初始化。听说马上七夕，讲个笑话，你有一天闲得蛋疼，在给未来的孩子取名字，好不容易想到一个好的，然而你连女朋友的没有。不要打我！来人护驾！</p>
<h2 id="not-defined"><a href="#not-defined" class="headerlink" title="not defined"></a>not defined</h2><p>别看他和<code>undefined</code>长的挺像，就以为他们是失散多年的亲兄弟，其实不然，数据类型大家族之中根本就没有他，他只是浏览器经常报的一个错误信息而已。<br>当我们看到<code>VM316:1 Uncaught ReferenceError: XXX is not defined(…)</code>的时候其实就意味着这个叫“XXX”的家伙根本就不存在（未定义）。浏览器的意思是“您拨打的号码有误，请核实后再拨”。</p>
<h2 id="Null"><a href="#Null" class="headerlink" title="Null"></a>Null</h2><p>哇~这个就厉害了。从逻辑上讲<code>Null</code>表示是一个空对象指针(也就是对象的名字用于存放地址)。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj1 =&#123;&#125;;</div><div class="line"><span class="keyword">var</span> obj2 = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> var1 = <span class="literal">undefined</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(obj1)); <span class="comment">// 返回object</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(obj2)); <span class="comment">// 返回object</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span>(var1)); <span class="comment">// 返回undefined</span></div></pre></td></tr></table></figure></p>
<p>这个东西不是很好解释，就好比是物理老师告诉你，1.0和1是不一样的，考试的时候要是精确两位小数你答个1，就尴尬了。他们可以一样也可以不一样(严格意义上不一样)，<code>Null</code>是对象指针本身也是个对象，在内存中其实就是未来要存个地址但是还没想好要存哪个地址而已（多个变量可以指向同一个对象）。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pointerA = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> var2 = <span class="literal">undefined</span>;</div><div class="line"><span class="keyword">var</span> objA = &#123;</div><div class="line">    <span class="attr">biu</span>:<span class="string">"biu~biu~biu~"</span></div><div class="line">&#125;;</div><div class="line">pointerA = objA;</div><div class="line">var2 = pointerA;</div><div class="line">objA.heheda = <span class="string">"heheda"</span>;</div><div class="line"><span class="built_in">console</span>.log(pointerA === objA); <span class="comment">// 返回true （同一个地址引用）</span></div><div class="line"><span class="built_in">console</span>.log(var2 === objA); <span class="comment">// 返回true （同一个地址引用,undefined派生于null）</span></div></pre></td></tr></table></figure></p>
<p>但是<code>undefined</code>他可就不是对象指针了，如果存实际的数据，可就真的存进去了。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> variableA = <span class="literal">undefined</span>;</div><div class="line"><span class="keyword">var</span> variableB = <span class="number">3</span>;</div><div class="line">variableA = variableB;</div><div class="line">variableB = <span class="number">4</span>;</div><div class="line"><span class="built_in">console</span>.log(variableA === variableB); <span class="comment">// 返回false （不同的地址引用）</span></div></pre></td></tr></table></figure></p>
<p>但是！他们在技术角度有TM的一样了，<code>undefined</code>派生于<code>null</code>并且都广义上代表“没有”：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> == <span class="literal">null</span>) <span class="comment">// 返回true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> === <span class="literal">null</span>) <span class="comment">// 返回false</span></div></pre></td></tr></table></figure></p>
<p>所以说<code>null</code>才是<code>undefined</code> 多年未见的亲哥哥呀。</p>
<h2 id="null-amp-undefined-VS-not-defined"><a href="#null-amp-undefined-VS-not-defined" class="headerlink" title="null&amp;undefined VS not defined"></a>null&amp;undefined VS not defined</h2><p>好的他们三个的关系已经清楚了，只有<code>not defined</code>不是自家兄弟。对于这样的异教徒我们要怎么办？<br>假如有后端跟你对接口时说，当这个属性没有的时候他就真的没有了(<code>not defined</code>)！难道你还傻傻的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (shashade.attr2) &#123; <span class="comment">// 此时已然报错</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(shashade.attr2);</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 执行为空操作</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样写过的同学举一下手~<br>那么要怎么办呢？<code>typeof</code>笑而不语。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">attr1</span>:<span class="string">"attr1"</span></div><div class="line">&#125;</div><div class="line">test(obj);</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">busha</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span>(busha.attr2) == <span class="literal">null</span>) &#123; <span class="comment">// 不会报错</span></div><div class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(busha.attr2);</div><div class="line">    &#125;<span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"为空操作已执行！"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<div class="tip"><br>    使用<code>typeof()</code>方法来判断处理为空的情况最为安全~<br></div></div></article></div></section><footer><div class="paginator"><a href="/2016/08/22/jazzysnail-font/" class="prev">PREV</a><a href="/2016/08/06/course-play-vue-logo/" class="next">NEXT</a></div><div data-thread-key="2016/08/08/not-defined&amp;undefined/" data-title="not defined和undefined和Null到底谁是异教徒？" data-url="http://jazzysnail.github.io/2016/08/08/not-defined&amp;undefined/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"jazzysnail"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2017 <a href="http://jazzysnail.github.io">leon</a>, powered by hexo.</p></div></footer><link rel="stylesheet" href="/css/duoshuo.css"></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>