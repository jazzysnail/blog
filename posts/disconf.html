<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_bq7x8lbm8uk81tt9.css"/>
    <link rel="stylesheet" type="text/css" href="/index.css"/>
    <!--[if lt IE 10]>
      <script src="https://as.alipayobjects.com/g/component/??console-polyfill/0.2.2/index.js,es5-shim/4.5.7/es5-shim.min.js,es5-shim/4.5.7/es5-sham.min.js,html5shiv/3.7.2/html5shiv.min.js,media-match/2.0.2/media.match.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="react-content"><div class="layout" data-reactroot="" data-reactid="1" data-react-checksum="703845833"><div class="paper" data-reactid="2"><header class="layout-header" data-reactid="3"><div class="header-content" data-reactid="4"><div class="title" data-reactid="5"><a href="/" data-reactid="6"><img class="logo" src="http://oaul0t4t1.bkt.clouddn.com/imgs/blog-logo.jpg" alt="logo" data-reactid="7"/></a></div><div class="nav" data-reactid="8"><ul data-reactid="9"><li class="to-home" data-reactid="10"><a href="/" data-reactid="11">Home</a></li><li data-reactid="12"><span data-reactid="13">Journal</span></li><li data-reactid="14"><span data-reactid="15">Artwork</span></li><li data-reactid="16"><span data-reactid="17">JS</span></li><li data-reactid="18"><span data-reactid="19">About</span></li><li data-reactid="20"><span data-reactid="21">Vita</span></li></ul></div><div class="header-bottom-line" data-reactid="22"></div></div></header><div class="layout-content" data-reactid="23"><div class="post-info" data-reactid="24"><span data-reactid="25"><i class="mineicon mineicon-clock" data-reactid="26"></i><time data-reactid="27">2017-05-23</time></span><span data-reactid="28"><i class="mineicon mineicon-sale" data-reactid="29"></i><span class="tags" data-reactid="30"><a href="/" data-reactid="31">草稿</a></span></span></div><h1 data-reactid="32">Disconf 分布式配置管理平台</h1><div class="entry-content" data-reactid="33"><article data-reactid="34"><p data-reactid="35"><!-- react-text: 36 -->接触到这个东西源于之前前端的配置文件原本是写在工程内的，但是随着环境的增多，发现配置文件也在日趋增多，运维在调整和管理起来非常麻烦。在调整配置时难不成还得改改工程，再提个代码？显然这是不科学的。<!-- /react-text --></p><p data-reactid="37"><!-- react-text: 38 -->所以今天介绍的工具是 <!-- /react-text --><a href="http://disconf.readthedocs.io/" data-reactid="39"><!-- react-text: 40 -->Disconf<!-- /react-text --></a><!-- react-text: 41 -->，官方解释是：<!-- /react-text --></p><blockquote data-reactid="42"><p data-reactid="43"><!-- react-text: 44 -->Distributed Configuration Management Platform(分布式配置管理平台)<!-- /react-text --></p></blockquote><h2 data-reactid="45"><!-- react-text: 46 -->使用<!-- /react-text --></h2><p data-reactid="47"><!-- react-text: 48 -->首先你得先在环境上部署一个 <!-- /react-text --><a href="http://disconf.readthedocs.io/zh_CN/latest/install/src/02.html" data-reactid="49"><!-- react-text: 50 -->disconf-web<!-- /react-text --></a><!-- react-text: 51 --> 。而且整个前后端都可以使用这个平台来进行配置管理，后端用到的反而会更多，微服务化产生的配置文件可真是一点都不少。<!-- /react-text --></p><p data-reactid="52"><!-- react-text: 53 -->有了 <!-- /react-text --><code data-reactid="54"><!-- react-text: 55 -->disconf-web<!-- /react-text --></code><!-- react-text: 56 --> 下来就是 <!-- /react-text --><code data-reactid="57"><!-- react-text: 58 -->disconf-client<!-- /react-text --></code><!-- react-text: 59 -->，这里讲前端使用 <!-- /react-text --><code data-reactid="60"><!-- react-text: 61 -->node<!-- /react-text --></code><!-- react-text: 62 --> 来进行配置的读取，社区有一个开源的实现我们可以方便的拿来使用，<!-- /react-text --><a href="https://github.com/Corey600/node-disconf-client" data-reactid="63"><!-- react-text: 64 -->node-disconf-client<!-- /react-text --></a><!-- react-text: 65 --> 目前版本是 <!-- /react-text --><em data-reactid="66"><!-- react-text: 67 -->0.1.5<!-- /react-text --></em><!-- react-text: 68 -->。根据给出的 Api 文档进行配置也是很简单的，<!-- /react-text --></p><blockquote data-reactid="69"><p data-reactid="70"><!-- react-text: 71 -->目前发现在读取 json 数据后使用配置直接转存是存在问题的，会得到<!-- /react-text --><code data-reactid="72"><!-- react-text: 73 -->[Object,Object]<!-- /react-text --></code><!-- react-text: 74 -->，所以要么单独处理一下数据或者改用其它的文件格式的数据，disconf 官方使用的<!-- /react-text --><code data-reactid="75"><!-- react-text: 76 -->*.properties<!-- /react-text --></code><!-- react-text: 77 -->文件比较推荐，是可以直接读取的，其次前端常用的 <!-- /react-text --><code data-reactid="78"><!-- react-text: 79 -->*.js<!-- /react-text --></code><!-- react-text: 80 --> 模块文件也是相比较好用的。<!-- /react-text --></p></blockquote></article></div><div data-reactid="81"><div class="blog-star" data-reactid="82"><iframe src="https://ghbtns.com/github-btn.html?user=jazzysnail&amp;repo=blog&amp;type=star&amp;count=true&amp;size=large" scrolling="0" data-reactid="83"></iframe></div><p style="text-align:center;" data-reactid="84">如果我的文章对你有帮助请奖励一个小星星~</p></div><div class="post-footer" data-reactid="85"><div class="post-footer-line" data-reactid="86"></div><a class="previous" href="posts/daily-prototype-001" data-reactid="87"><i class="mineicon mineicon-arrowleft" data-reactid="88"></i><!-- react-text: 89 --> <!-- /react-text --><span class="label" data-reactid="90">prev</span><span class="post-title" data-reactid="91">concat</span></a><div class="comment-tip" data-reactid="92"><span data-reactid="93">⌘+enter post comment</span></div><a class="next" href="posts/pure-function" data-reactid="94"><span class="post-title" data-reactid="95">关于{纯}函数</span><span class="label" data-reactid="96">next</span><!-- react-text: 97 --> <!-- /react-text --><i class="mineicon mineicon-arrowright" data-reactid="98"></i></a></div></div></div><footer data-reactid="99"><span class="linkup" data-reactid="100"><a href="http://github.com/jazzysnail" target="_blank" data-reactid="101"><i class="mineicon mineicon-github" data-reactid="102"></i></a><a href="http://2017.zcool.com.cn/u/2061043" target="_blank" data-reactid="103"><i class="mineicon mineicon-zcool" data-reactid="104"></i></a></span><p data-reactid="105"><!-- react-text: 106 -->All Content Copyright © <!-- /react-text --><!-- react-text: 107 -->2016<!-- /react-text --><!-- react-text: 108 -->-<!-- /react-text --><!-- react-text: 109 -->2017<!-- /react-text --><!-- react-text: 110 --> leon’s blog<!-- /react-text --></p><p style="color:#ccc;" data-reactid="111"><!-- react-text: 112 -->Powered by <!-- /react-text --><a href="https://github.com/benjycui/bisheng" data-reactid="113">Bisheng</a></p></footer></div></div>
  </body>
  <script src="/common.js"></script>
  <script src="/index.js"></script>
</html>