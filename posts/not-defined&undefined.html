<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="//at.alicdn.com/t/font_bq7x8lbm8uk81tt9.css"/>
    <link rel="stylesheet" type="text/css" href="/index.css"/>
    <!--[if lt IE 10]>
      <script src="https://as.alipayobjects.com/g/component/??console-polyfill/0.2.2/index.js,es5-shim/4.5.7/es5-shim.min.js,es5-shim/4.5.7/es5-sham.min.js,html5shiv/3.7.2/html5shiv.min.js,media-match/2.0.2/media.match.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="react-content"><div class="layout" data-reactroot="" data-reactid="1" data-react-checksum="-1698411864"><div class="paper" data-reactid="2"><header class="layout-header" data-reactid="3"><div class="header-content" data-reactid="4"><div class="title" data-reactid="5"><a href="/" data-reactid="6"><img class="logo" src="http://oaul0t4t1.bkt.clouddn.com/imgs/blog-logo.jpg" alt="logo" data-reactid="7"/></a></div><div class="nav" data-reactid="8"><ul data-reactid="9"><li class="to-home" data-reactid="10"><a href="/" data-reactid="11">Home</a></li><li data-reactid="12"><span data-reactid="13">Journal</span></li><li data-reactid="14"><span data-reactid="15">Artwork</span></li><li data-reactid="16"><span data-reactid="17">JS</span></li><li data-reactid="18"><span data-reactid="19">About</span></li><li data-reactid="20"><span data-reactid="21">Vita</span></li></ul></div><div class="header-bottom-line" data-reactid="22"></div></div></header><div class="layout-content" data-reactid="23"><div class="post-info" data-reactid="24"><span data-reactid="25"><i class="mineicon mineicon-clock" data-reactid="26"></i><time data-reactid="27">2016-08-08</time></span><span data-reactid="28"><i class="mineicon mineicon-sale" data-reactid="29"></i><span class="tags" data-reactid="30"><a href="/" data-reactid="31">javascript</a></span></span></div><h1 data-reactid="32">undefined Null 和 not defined</h1><div class="entry-content" data-reactid="33"><article data-reactid="34"><p data-reactid="35"><!-- react-text: 36 -->又一个需求完结了，最近好“闲”！总结一个好玩的东西，那就是<!-- /react-text --><code data-reactid="37"><!-- react-text: 38 -->not defined<!-- /react-text --></code><!-- react-text: 39 --> 和 <!-- /react-text --><code data-reactid="40"><!-- react-text: 41 -->undefined<!-- /react-text --></code><!-- react-text: 42 --> 以及<!-- /react-text --><code data-reactid="43"><!-- react-text: 44 -->Null<!-- /react-text --></code><!-- react-text: 45 -->这三兄弟。这三兄弟简直了，一个不小心就要出问题。<!-- /react-text --></p><p data-reactid="46"><!-- react-text: 47 -->别看这三兄弟不仅长的像而且意思也真是TM的“像”，可是他们之间还有很大的区别的。<!-- /react-text --></p><blockquote data-reactid="48"><p data-reactid="49"><!-- react-text: 50 -->下面代码建议<!-- /react-text --><code data-reactid="51"><!-- react-text: 52 -->f12<!-- /react-text --></code><!-- react-text: 53 -->在控制台运行一下<!-- /react-text --></p></blockquote><h2 data-reactid="54"><!-- react-text: 55 -->undefined<!-- /react-text --></h2><blockquote data-reactid="56"><p data-reactid="57"><code data-reactid="58"><!-- react-text: 59 -->undefined<!-- /react-text --></code><!-- react-text: 60 -->类型只有一个值，即特殊的<!-- /react-text --><code data-reactid="61"><!-- react-text: 62 -->undefined<!-- /react-text --></code><!-- react-text: 63 -->。在使用var声明变量但未对其加以初始化时，这个变量的值就是<!-- /react-text --><code data-reactid="64"><!-- react-text: 65 -->undefined<!-- /react-text --></code><!-- react-text: 66 -->。<!-- /react-text --></p></blockquote><p data-reactid="67"><!-- react-text: 68 -->熟悉么？没错就 <!-- /react-text --><strong data-reactid="69"><!-- react-text: 70 -->js高程<!-- /react-text --></strong><!-- react-text: 71 --> 的原话。讲道理读书还是重要，有些时候遇到问题快速解决可以google或是寻找技术博客什么的，实践很重要理论做支撑，需求完结后回到理论深究一下，才能真正的提高，所谓知其然知其所以然~又TMD扯远了。<!-- /react-text --></p><p data-reactid="72"><!-- react-text: 73 -->上面这段什么意思呢？就是说这个变量不是没有（未定义）而是没有初始化。听说马上七夕，讲个笑话，你有一天闲得蛋疼，在给未来的孩子取名字，好不容易想到一个好的，然而你连女朋友的没有。不要打我！来人护驾！<!-- /react-text --></p><h2 data-reactid="74"><!-- react-text: 75 -->not defined<!-- /react-text --></h2><p data-reactid="76"><!-- react-text: 77 -->别看他和<!-- /react-text --><code data-reactid="78"><!-- react-text: 79 -->undefined<!-- /react-text --></code><!-- react-text: 80 -->长的挺像，就以为他们是失散多年的亲兄弟，其实不然，数据类型大家族之中根本就没有他，他只是浏览器经常报的一个错误信息而已。
当我们看到<!-- /react-text --><code data-reactid="81"><!-- react-text: 82 -->VM316:1 Uncaught ReferenceError: XXX is not defined(…)<!-- /react-text --></code><!-- react-text: 83 -->的时候其实就意味着这个叫“XXX”的家伙根本就不存在（未定义）。浏览器的意思是“您拨打的号码有误，请核实后再拨”。<!-- /react-text --></p><h2 data-reactid="84"><!-- react-text: 85 -->Null<!-- /react-text --></h2><p data-reactid="86"><!-- react-text: 87 -->哇~这个就厉害了。从逻辑上讲<!-- /react-text --><code data-reactid="88"><!-- react-text: 89 -->Null<!-- /react-text --></code><!-- react-text: 90 -->表示是一个空对象指针(也就是对象的名字用于存放地址)。<!-- /react-text --></p><pre class="language-js" data-reactid="91"><code data-reactid="92"><span class="token keyword">var</span> obj1 <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> var1 <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>var1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回undefined</span></code></pre><p data-reactid="93"><!-- react-text: 94 -->这个东西不是很好解释，就好比是物理老师告诉你，1.0和1是不一样的，考试的时候要是精确两位小数你答个1，就尴尬了。他们可以一样也可以不一样(严格意义上不一样)，<!-- /react-text --><code data-reactid="95"><!-- react-text: 96 -->Null<!-- /react-text --></code><!-- react-text: 97 -->是对象指针本身也是个对象，在内存中其实就是未来要存个地址但是还没想好要存哪个地址而已（多个变量可以指向同一个对象）。<!-- /react-text --></p><pre class="language-js" data-reactid="98"><code data-reactid="99"><span class="token keyword">var</span> pointerA <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> var2 <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
<span class="token keyword">var</span> objA <span class="token operator">=</span> <span class="token punctuation">{</span>
    biu<span class="token punctuation">:</span><span class="token string">"biu~biu~biu~"</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
pointerA <span class="token operator">=</span> objA<span class="token punctuation">;</span>
var2 <span class="token operator">=</span> pointerA<span class="token punctuation">;</span>
objA<span class="token punctuation">.</span>heheda <span class="token operator">=</span> <span class="token string">"heheda"</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pointerA <span class="token operator">===</span> objA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回true （同一个地址引用）</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>var2 <span class="token operator">===</span> objA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回true （同一个地址引用,undefined派生于null）</span></code></pre><p data-reactid="100"><!-- react-text: 101 -->但是<!-- /react-text --><code data-reactid="102"><!-- react-text: 103 -->undefined<!-- /react-text --></code><!-- react-text: 104 -->他可就不是对象指针了，如果存实际的数据，可就真的存进去了。<!-- /react-text --></p><pre class="language-js" data-reactid="105"><code data-reactid="106"><span class="token keyword">var</span> variableA <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
<span class="token keyword">var</span> variableB <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
variableA <span class="token operator">=</span> variableB<span class="token punctuation">;</span>
variableB <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>variableA <span class="token operator">===</span> variableB<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 返回false （不同的地址引用）</span></code></pre><p data-reactid="107"><!-- react-text: 108 -->但是！他们在技术角度有TM的一样了，<!-- /react-text --><code data-reactid="109"><!-- react-text: 110 -->undefined<!-- /react-text --></code><!-- react-text: 111 -->派生于<!-- /react-text --><code data-reactid="112"><!-- react-text: 113 -->null<!-- /react-text --></code><!-- react-text: 114 -->并且都广义上代表“没有”：<!-- /react-text --></p><pre class="language-js" data-reactid="115"><code data-reactid="116">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>undefined <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 返回true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>undefined <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 返回false</span></code></pre><p data-reactid="117"><!-- react-text: 118 -->所以说<!-- /react-text --><code data-reactid="119"><!-- react-text: 120 -->null<!-- /react-text --></code><!-- react-text: 121 -->才是<!-- /react-text --><code data-reactid="122"><!-- react-text: 123 -->undefined<!-- /react-text --></code><!-- react-text: 124 --> 多年未见的亲哥哥呀。<!-- /react-text --></p><h2 data-reactid="125"><!-- react-text: 126 -->null&amp;undefined VS not defined<!-- /react-text --></h2><p data-reactid="127"><!-- react-text: 128 -->好的他们三个的关系已经清楚了，只有<!-- /react-text --><code data-reactid="129"><!-- react-text: 130 -->not defined<!-- /react-text --></code><!-- react-text: 131 -->不是自家兄弟。对于这样的异教徒我们要怎么办？
假如有后端跟你对接口时说，当这个属性没有的时候他就真的没有了(<!-- /react-text --><code data-reactid="132"><!-- react-text: 133 -->not defined<!-- /react-text --></code><!-- react-text: 134 -->)！难道你还傻傻的：<!-- /react-text --></p><pre class="language-js" data-reactid="135"><code data-reactid="136"><span class="token keyword">if</span> <span class="token punctuation">(</span>shashade<span class="token punctuation">.</span>attr2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 此时已然报错</span>
    <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>shashade<span class="token punctuation">.</span>attr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 执行为空操作</span>
<span class="token punctuation">}</span></code></pre><p data-reactid="137"><!-- react-text: 138 -->这样写过的同学举一下手~
那么要怎么办呢？使用<!-- /react-text --><code data-reactid="139"><!-- react-text: 140 -->typeof<!-- /react-text --></code><!-- react-text: 141 -->来做类型检测。<!-- /react-text --></p><pre class="language-js" data-reactid="142"><code data-reactid="143"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    attr1<span class="token punctuation">:</span><span class="token string">"attr1"</span>
<span class="token punctuation">}</span>
<span class="token function">test</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span>busha<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>busha<span class="token punctuation">.</span>attr2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 不会报错</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>busha<span class="token punctuation">.</span>attr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"为空操作已执行！"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><blockquote data-reactid="144"><p data-reactid="145"><!-- react-text: 146 -->使用<!-- /react-text --><code data-reactid="147"><!-- react-text: 148 -->typeof()<!-- /react-text --></code><!-- react-text: 149 -->方法来判断处理为空的情况最为安全~<!-- /react-text --></p></blockquote></article></div><div data-reactid="150"><div class="blog-star" data-reactid="151"><iframe src="https://ghbtns.com/github-btn.html?user=jazzysnail&amp;repo=blog&amp;type=star&amp;count=true&amp;size=large" scrolling="0" data-reactid="152"></iframe></div><p style="text-align:center;" data-reactid="153">如果我的文章对你有帮助请奖励一个小星星~</p></div><div class="post-footer" data-reactid="154"><div class="post-footer-line" data-reactid="155"></div><a class="previous" href="posts/jazzysnail-font" data-reactid="156"><i class="mineicon mineicon-arrowleft" data-reactid="157"></i><!-- react-text: 158 --> <!-- /react-text --><span class="label" data-reactid="159">prev</span><span class="post-title" data-reactid="160">字体教程 jazzysnail</span></a><div class="comment-tip" data-reactid="161"><span data-reactid="162">⌘+enter post comment</span></div><a class="next" href="posts/course-play-vue-logo" data-reactid="163"><span class="post-title" data-reactid="164">调戏 Vue logo</span><span class="label" data-reactid="165">next</span><!-- react-text: 166 --> <!-- /react-text --><i class="mineicon mineicon-arrowright" data-reactid="167"></i></a></div></div></div><footer data-reactid="168"><span class="linkup" data-reactid="169"><a href="http://github.com/jazzysnail" target="_blank" data-reactid="170"><i class="mineicon mineicon-github" data-reactid="171"></i></a><a href="http://2017.zcool.com.cn/u/2061043" target="_blank" data-reactid="172"><i class="mineicon mineicon-zcool" data-reactid="173"></i></a></span><p data-reactid="174"><!-- react-text: 175 -->All Content Copyright © <!-- /react-text --><!-- react-text: 176 -->2016<!-- /react-text --><!-- react-text: 177 -->-<!-- /react-text --><!-- react-text: 178 -->2017<!-- /react-text --><!-- react-text: 179 --> leon’s blog<!-- /react-text --></p><p style="color:#ccc;" data-reactid="180"><!-- react-text: 181 -->Powered by <!-- /react-text --><a href="https://github.com/benjycui/bisheng" data-reactid="182">Bisheng</a></p></footer></div></div>
  </body>
  <script src="/common.js"></script>
  <script src="/index.js"></script>
</html>